webpackJsonp([26],{5:function(n,t,e){n.exports=e("rRLw")},KTPw:function(n,t,e){var o=e("VU/8")(e("Qy4g"),e("z/MG"),!1,null,null,null);n.exports=o.exports},Qy4g:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{is_loading:!1,loading_wording:""}},mounted:function(){},watch:{},methods:{openLoading:function(){this.is_loading=!0},closeLoading:function(){this.is_loading=!1},setLoadingWording:function(n){this.loading_wording=!1}}}},"VU/8":function(n,t){n.exports=function(n,t,e,o,a,i){var s,r=n=n||{},c=typeof n.default;"object"!==c&&"function"!==c||(s=n,r=n.default);var d,l="function"==typeof r?r.options:r;if(t&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0),e&&(l.functional=!0),a&&(l._scopeId=a),i?(d=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),o&&o.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(i)},l._ssrRegister=d):o&&(d=o),d){var _=l.functional,u=_?l.render:l.beforeCreate;_?(l._injectStyles=d,l.render=function(n,t){return d.call(t),u(n,t)}):l.beforeCreate=u?[].concat(u,d):[d]}return{esModule:s,exports:r,options:l}}},rRLw:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("mtWM"),a=e.n(o),i=e("KTPw"),s=e.n(i);Vue.component("light_box",{props:["article_buy_show","csrf","url","limit_point","exe_url","return_url"],components:{"loading-component":s.a},template:'\n    <div id="article__buy" class="message message--download message--center" style="display: table;">\n        <i class="icon icon-cancel message__close" @click="closeShow"></i>\n        <div class="message__container">\n            <div class="message__txt text-center">\n                <div v-if="buy">\n                    <h2 class="mt0 mb5">知識庫點數不足</h2>\n                    <p class="my0">天下知識庫點數即日起停止銷售，詳細請前往公告內容</p>\n                    <div class="message__btn">\n                        <a href="https://web.cw.com.tw/points-notice/points-notice.html" target="_blank" class="btn btn--contained">公告</a>\n                    </div>\n                </div>\n                <div v-else>\n                    <h2 class="mt0 mb5">付費閱讀</h2>\n                    <p class="my0">點擊「立即扣除」，將扣除10點知識庫點數。天下知識庫點數即日起停止銷售，您現有點數皆可使用至2020年12月31日止，詳情請見公告</p>\n                    <div class="message__btn">\n                        <a id="query_knowledge" v-on:click="exePoint" class="btn btn--outlined gtmEvent" gtm-name="Finish point">立即扣除</a><a href="https://web.cw.com.tw/points-notice/points-notice.html" target="_blank" class="btn btn--contained">公告</a>\n                    </div>\n                </div>\n                <div class="separation separation--or"><span>或</span></div>\n                <h2 class="mt0 mb5">不限篇數瀏覽，最超值</h2>\n                <p class="my0">訂閱全閱讀，每月249元，即可享全站不限篇數閱讀</p>\n                <div class="message__btn">\n                    <a class="btn btn--contained gtmEvent" href="https://www.cw.com.tw/payment" gtm-name="lightbox_Point_sub" target="_blank">查看方案</a>\n                </div>\n            </div>\n        </div>\n        <loading-component ref="loading"></loading-component>\n    </div>\n    ',data:function(){return{buy:!0}},methods:{exePoint:function(){var n=this,t={_token:this.csrf};a.a.post(this.exe_url,t).then(function(t){return"00"==String(t.data.data.reasonID)?void(window.location=n.return_url):void alert("扣點異常")})},closeShow:function(){this.$emit("close-show")}},watch:{article_buy_show:function(n,t){var e=this;if("false"!=n){var o=this;o.$refs.loading.openLoading();var i={_token:this.csrf};a.a.post(this.url,i).then(function(n){return"00"==n.data.data.reasonID?(parseInt(n.data.data.knowledge)>=parseInt(e.limit_point)?e.buy=!1:(e.buy=!0,alert("點數不足")),void o.$refs.loading.closeLoading()):"02"==String(n.data.data.reasonID)||"01"==String(n.data.data.reasonID)?(e.buy=!0,void o.$refs.loading.closeLoading()):"00"!=String(n.data.data.reasonID)&&"02"!=String(n.data.reasonID)?(e.buy=!0,console.log("其他錯誤!"),void o.$refs.loading.closeLoading()):void 0})}}}}),new Vue({el:"#light_box",data:light_box_data,created:function(){},watch:{},methods:{close:function(){this.article_buy_show="false"}}})},"z/MG":function(n,t){n.exports={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return n.is_loading?e("div",{staticClass:"loader",on:{click:function(t){return n.closeLoading()}}},[e("div",{staticClass:"loader__animate"},[e("div",{staticClass:"loader__icon"}),n._v(" "),e("div",{staticClass:"loader__text text-center"},[n._v("\n            "+n._s(n.loading_wording)+"\n        ")])])]):n._e()},staticRenderFns:[]}}},[5]);