webpackJsonp([23],{6:function(n,o,e){n.exports=e("UBlF")},KTPw:function(n,o,e){var t=e("VU/8")(e("Qy4g"),e("z/MG"),!1,null,null,null);n.exports=t.exports},Qy4g:function(n,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={data:function(){return{is_loading:!1,loading_wording:""}},mounted:function(){},watch:{},methods:{openLoading:function(){this.is_loading=!0},closeLoading:function(){this.is_loading=!1},setLoadingWording:function(n){this.loading_wording=!1}}}},UBlF:function(n,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),function(n){var o=e("mtWM"),t=e.n(o),i=e("KTPw"),a=e.n(i);Vue.component("pdf_box",{props:["pdf_box_show"],components:{"loading-component":a.a},template:'\n    <div>\n        <div id="pdf__enough" class="message message--dialogs message--center" v-bind:style="{\'display\':point_enough}">\n            <div class="message__container">\n                <i class="icon icon-cancel message__close" v-on:click="closeBox"></i>\n                <div class="message__txt">\n                    <h2>下載文章PDF</h2>\n                    <p>\n                        點擊「下載」，將扣除10點知識庫點數。天下知識庫點數即日起停止銷售，您現有點數皆可使用至2020年12月31日止，詳情請見公告\n                    </p>\n                </div>\n                <div class="message__btn">\n                    <a id="download_check1" class="btn btn--outlined gtmEvent" gtm-name="pdf finish" v-on:click="pdfDownload">下載</a><a href="https://web.cw.com.tw/points-notice/points-notice.html" target="_blank" class="btn btn--contained">公告</a>\n                </div>\n            </div>\n        </div>\n        <div id="pdf__insufficient" class="message message--dialogs message--center" v-bind:style="{\'display\':point_not_enough}">\n            <div class="message__container">\n                <i class="icon icon-cancel message__close" v-on:click="closeBox"></i>\n                <div class="message__txt">\n                    <h2>知識庫點數不足</h2>\n                    <p>天下知識庫點數即日起停止銷售，詳細請前往公告</p>\n                </div>\n                <div class="message__btn">\n                    <a href="https://web.cw.com.tw/points-notice/points-notice.html" target="_blank" class="btn btn--contained">公告</a>\n                </div>\n            </div>\n        </div>\n        <loading-component ref="loading"></loading-component>\n    </div>\n    ',data:function(){return{url:"",csrf:"",limit_point:"",exe_url:"",download_url:"",return_url:"",point_enough:"none",point_not_enough:"none",knowledge_point:0,article_id:""}},created:function(){this.url=window.pdf_box_data.url,this.csrf=window.pdf_box_data.csrf,this.limit_point=window.pdf_box_data.limit_point,this.exe_url=window.pdf_box_data.exe_url,this.download_url=window.pdf_box_data.download_url,this.return_url=window.pdf_box_data.return_url,this.point_enough="none",this.point_not_enough="none",this.article_id=window.pdf_box_data.article_id},mounted:function(){},methods:{pdfDownload:function(){var o=this;o.$refs.loading.openLoading();var e={id:this.article_id,_token:this.csrf};t.a.post(this.exe_url,e).then(function(e){if(o.$refs.loading.closeLoading(),"00"==String(e.data.pdfdownload.reasonID)){var t=e.data.pdfdownload.pdfFileName;return n("#pdf_name").val(t),n("#pdfDownload").submit(),n(".black").toggleClass("opened"),void o.closeBox()}alert("扣點異常")}).catch(function(n){console.log(n),o.$refs.loading.closeLoading(),alert("扣點異常")})},closeBox:function(){this.point_enough="none",this.point_not_enough="none",window.pdf_box_data.pdf_box_show="false"}},watch:{pdf_box_show:function(n,o){var e=this,i=this;if(i.$refs.loading.openLoading(),"false"!=n){var a={_token:this.csrf};t.a.post(this.url,a).then(function(n){if(i.$refs.loading.closeLoading(),"00"==n.data.data.reasonID){var o=parseInt(n.data.data.knowledge);return e.knowledge_point=o,void(o>=parseInt(e.limit_point)?(e.point_enough="block",e.point_not_enough="none"):(e.point_enough="none",e.point_not_enough="block",alert("點數不足")))}if("02"==String(n.data.data.reasonID)||"01"==String(n.data.data.reasonID))return e.point_enough="none",e.point_not_enough="block",void(e.knowledge_point=0);console.log("其他錯誤!")}).catch(function(n){i.$refs.loading.closeLoading(),console.log("其他錯誤!")})}else i.$refs.loading.closeLoading()}}}),new Vue({el:"#pdf_box",data:pdf_box_data,created:function(){},watch:{},methods:{}})}.call(o,e("7t+N"))},"VU/8":function(n,o){n.exports=function(n,o,e,t,i,a){var s,d=n=n||{},l=typeof n.default;"object"!==l&&"function"!==l||(s=n,d=n.default);var c,r="function"==typeof d?d.options:d;if(o&&(r.render=o.render,r.staticRenderFns=o.staticRenderFns,r._compiled=!0),e&&(r.functional=!0),i&&(r._scopeId=i),a?(c=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),t&&t.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(a)},r._ssrRegister=c):t&&(c=t),c){var _=r.functional,p=_?r.render:r.beforeCreate;_?(r._injectStyles=c,r.render=function(n,o){return c.call(o),p(n,o)}):r.beforeCreate=p?[].concat(p,c):[c]}return{esModule:s,exports:d,options:r}}},"z/MG":function(n,o){n.exports={render:function(){var n=this,o=n.$createElement,e=n._self._c||o;return n.is_loading?e("div",{staticClass:"loader",on:{click:function(o){return n.closeLoading()}}},[e("div",{staticClass:"loader__animate"},[e("div",{staticClass:"loader__icon"}),n._v(" "),e("div",{staticClass:"loader__text text-center"},[n._v("\n            "+n._s(n.loading_wording)+"\n        ")])])]):n._e()},staticRenderFns:[]}}},[6]);